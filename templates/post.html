{% extends 'base.html' %}

{% block main %}
<div class="container post-page">
    <h1 class="mb-5">Post a new Decal</h1>

    <div class="">
        <form>
            <div class="form-group">
                <label for="decal-name"></label>
                <input type="text" name="decal-name" id="decal-name" class="form-control" placeholder="Decal Name" aria-describedby="">
            </div>
            <div class="form-group">
                <label for="decal-share-id"></label>
                <input type="text" name="decal-share-id" id="decal-share-id" class="form-control" placeholder="Decal Share ID" aria-describedby="">
                <small id="help-share" class="form-text text-muted">The decal's Share ID visible in game</small>
            </div>
            <div>
                <div class="mb-4 d-flex justify-content-center">
                    <img class="image-preview" id="decal-image" src="https://mdbootstrap.com/img/Photos/Others/placeholder.jpg"
                    alt="example placeholder" style="width: 300px;" />
                </div>
                <div class="d-flex justify-content-center">
                    <div class="btn btn-primary btn-rounded">
                        <label class="form-label text-white m-1" for="decal-image-input">Choose file</label>
                        <input type="file" class="form-control d-none" id="decal-image-input" onchange="previewImage()"/>
                    </div>
                </div>
            </div>
            <input class="btn btn-primary" type="submit">
        </form>
    </div>
</div>

<style>
    .image-preview {
        max-width: 300px;
        max-height: 300px;
    }
</style>

<script type="text/javascript">
    function previewImage() {
        const preview = document.getElementById("decal-image");
        var file = document.getElementById("decal-image-input").files[0];
        const reader = new FileReader();
        reader.addEventListener("load", function() {
            preview.src = reader.result;
        }, false)

        if(file) {
            reader.readAsDataURL(file);
        }
    }
</script>
{% endblock  %}